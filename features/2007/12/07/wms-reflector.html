<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>WMS Reflector</title>
    <meta name="viewport" content="width=device-width">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,800" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="/css/bootstrap-3.0.3.min.css">
    <link rel="stylesheet" href="/css/ol.css"/>
    <link rel="stylesheet" href="/css/app.css">
    <link rel="alternate" type="application/atom+xml" title="Atom feed" href="https://geoserver.org/feed.xml">

    <link rel="shortcut icon" href="/favicon.ico">
  </head>

  <body >
      <nav class="navbar" role="navigation">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" 
              data-target="#gs-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">GeoServer</a>
    </div>

    <div class="collapse navbar-collapse" id="gs-navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="/about">About</a>
        </li>
        <li>
          <a href="/blog" target="_blank">Blog</a>
        </li>        
        <li>
          <a href="/download">Download</a>
        </li>
        <li>
          <a href="http://docs.geoserver.org">Documentation</a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="/comm">Community Support</a></li>
            <li><a href="/support">Commercial Support</a></li>
            <li><a href="/issues">Issue Tracker</a></li>
            <li><a href="/devel">Community Development</a></li>
            <li><a href="/sponsor">Sponsorship</a></li>
            <li><a href="/roadmap">Roadmap</a></li>
            <li><a href="https://github.com/geoserver/geoserver/wiki/Home" target="_blank">Wiki</a></li>
            <li><a href="https://github.com/geoserver/geoserver/graphs/contributors">Contributors</a></li>
            <li><a href="https://github.com/geoserver/geoserver/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
            <li><a href="/license">License</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <a href="https://github.com/geoserver/geoserver" target="_blank">
      <img style="position: absolute; top: 0; right: 0; border: 0;"
           decoding="async" loading="lazy" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_green_007200.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1">
    </a>
  </nav>

      <div class="background">
        <div class="post-body">
          <div class="wrapper /features/2007/12/07/wms-reflector">
            <div class="content">
              <div class="post">

                <header class="post-header">
                  <h1 class="post-title">WMS Reflector</h1>
                  <p class="post-meta">Dec 7, 2007 • sbenthall</p>
                </header>

                <article class="post-content">
                  <p>Check out the two Geoserver-provided images below:</p>
<table cellpadding="1" cellspacing="1" align="center" border="1">
<tr>

<td align="center">**Exhibit A**
</td>
</tr>
<tr>

<td align="center">![](http://geo.openplans.org:8080/geoserver/wms?service=WMS&amp;request=GetMap&amp;version=1.1.1&amp;format=image/png&amp;width=256&amp;height=108&amp;srs=EPSG:4326&amp;layers=topp:states&amp;styles=population&amp;bbox=-138.4239531951185,19.168145657378737,-53.27731780488149,55.15955634262126)
</td>
</tr>
<tr>

<td align="center">**Exhibit B**
</td>
</tr>
<tr>

<td align="center">![](http://geo.openplans.org:8080/geoserver/wms/reflect?layers=topp:states&amp;width=256)
</td>
</tr>
</table>
<p>­
They may look very similar, but they have two important differences. First, the scaling of the second map is better for conveying the data.  The second and more important difference you won’t be able to see unless you view this page’s source.  The markup that produced Exhibit A involved the burdensome URLs you may be used to:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;img src="http://geo.openplans.org:8080/geoserver/wms?service=WMS &amp;request=GetMap &amp;version=1.1.1 &amp;format=image/png &amp;width=256 &amp;height=108 &amp;srs=EPSG:4326 &amp;layers=topp:states &amp;styles=population &amp;bbox=-138.4239531951185,19.168145657378737,-53.27731780488149,55.15955634262126" /&gt;</code></p>

<p>Exhibit B, on the other hand, uses a far more concise URL for the image source:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;img src="http://geo.openplans.org:8080/geoserver/wms/reflect? layers=topp:states&amp;width=256" /&gt;</code></p>

<p>How is this possible?  Exhibit B uses the new <strong>WMS Reflector</strong>, written by Justin DeOliveira and augmented by Arne Krepp for 1.6.0 for RC1.  The URL asks the reflector (<code class="language-plaintext highlighter-rouge">wms/reflect</code>) to display the feature “topp:states” (<code class="language-plaintext highlighter-rouge">layers=topp:states</code>) and that the width should be 256 pixels (<code class="language-plaintext highlighter-rouge">width=256</code>).  The rest of the parameters are filled in either by sensible but overridable defaults–such as <code class="language-plaintext highlighter-rouge">format=image/png</code>–or with values calculated on the fly. The bounding box, for example, was inferred from the bounds of the content instead of being explicitly defined.</p>

<p>­</p>

<h3 id="less-pain">Less Pain­­</h3>

<p>The WMS Reflector is designed to make it easier to play around with Geoserver without having to waste time tweaking cumbersome URLs.  Before, writing a WMS request by hand was almost impossible, since you had to manually make sure that the ratio between the width and height parameters was the same as the ratio for the bounding box.  You also had to know what a spatial reference system is, what version of WMS you wanted to use, and so on.</p>

<p>None of this should be weighing on the user who just wants to get Geoserver to show them a map.  The WMS Reflector frees them from this kind of micromanagement.  As seen in Exhibit B above, all you need to do is supply either a heig­ht or a width attribute and the rest–the bounding box, the other dimension–are automagically tailored to the data.</p>

<h3 id="overriding-the-defaults">Overriding the Defaults</h3>

<p>With the WMS Reflector handling the sizing and bounding box issues, it’s easier to play with Geoserver’s different <a href="http://docs.codehaus.org/display/GEOSDOC/Output+Formats">output formats</a>.  The default request returns a PNG image of a map.  But the following URL gets you a PDF</p>

<p><a href="http://geo.openplans.org:8080/geoserver/wms/reflect?format=application/pdf&amp;layers=topp:states">­<code class="language-plaintext highlighter-rouge">http://geo.openplans.org:8080/geoserver/wms/reflect?format=application/pdf&amp;layers=topp:states</code></a></p>

<p>Once again, with the Reflector, the URL contains just what needs to be said, and no more.  You can even use the Reflector to quickly make navigable OpenLayers maps using the <code class="language-plaintext highlighter-rouge">format=application/openlayers</code>­ option.</p>

<p><a href="http://geo.openplans.org:8080/geoserver/wms/reflect?format=application/openlayers&amp;layers=topp:states&amp;height=300">­<code class="language-plaintext highlighter-rouge">http://geo.openplans.org:8080/geoserver/wms/reflect?format=application/openlayers &amp;layers=topp:states&amp;height=300</code></a></p>

<p>If you are interested in learning more about the WFS Reflector and the parameters it supplies and derives, take a look at Arne’s <a href="http://docs.codehaus.org/display/GEOSDOC/WMS+Reflector+-+Include+maps+on+your+webpages,+the+easy+way">documentation</a>, which provides more details and examples.</p>

<p>­</p>

<p>­</p>

                </article>

            </div>
          </div>
        </div>
        <div class="sidebar">
          <script>
            function toggleContents(target) {
              if (target.classList.contains('toggled')) {
                target.classList.remove('toggled')
              } else {
                target.classList.add('toggled')
              }
            }
          </script> 
          <div class="sidebar-category" onclick="toggleContents(this)" />
            <h4>&nbsp;Announcements</h4>
            <ul>
              
                <li><a href="/announcements/2023/12/18/geoserver-2-23-4-released.html">GeoServer 2.23.4 Release</a></li>
                
              
                <li><a href="/announcements/2023/11/27/geoserver-2-24-1-released.html">GeoServer 2.24.1 Release</a></li>
                
              
                <li><a href="/announcements/2023/10/30/geoserver-2-23-3-released.html">GeoServer 2.23.3 Release</a></li>
                
              
                <li><a href="/announcements/2023/10/15/geoserver-2-24-0-released.html">GeoServer 2.24.0 Release</a></li>
                
              
                <li><a href="/announcements/2023/09/25/geoserver-2-24-RC-released.html">GeoServer 2.24-RC Release</a></li>
                
              
                <li><a href="/announcements/2023/08/30/geoserver-2-22-5-released.html">GeoServer 2.22.5 Release</a></li>
                
              
                <li><a href="/announcements/2023/07/21/geoserver-2-23-2-released.html">GeoServer 2.23.2 Release</a></li>
                
              
                <li><a href="/announcements/2023/07/04/foss4g-2023.html">GeoServer at FOSS4G 2023</a></li>
                
              
                <li><a href="/announcements/2023/06/19/geoserver-2-22-4-released.html">GeoServer 2.22.4 Release</a></li>
                
              
                <li><a href="/announcements/2023/05/23/geoserver-2-23-1-released.html">GeoServer 2.23.1 Release</a></li>
                
                  
            </ul>
          </div>
          
          <!-- 2019 -->
          
            
            
            
              
            
            
            
            
            
            
          
            
            
            
            
            
              
            
            
            
            
            
            
          
            
            
            
            
            
              
            
            
            
            
            
              
            
            
            
            
            
              
            
            
            
            
            
            
          
            
            
            
            
            
              
            
            
            
            
            
            
          
          
          
          
            
            
            
            <div class="sidebar-category" onclick="toggleContents(this)" />
              <h4>&nbsp;Tutorials</h4>
              <ul>
                
                  
                  
                  
                  <li><a href="/tutorials/2024/01/17/geospatial-techno.html">GeoServer About & Status - A Practical Guide</a></li>
                  
                
                  
                  
                  
                  <li><a href="/tutorials/2023/11/30/geospatial-techno.html">GeoServer installation methods on Windows</a></li>
                  
                
                  
                  
                  
                  <li><a href="/tutorials/2023/10/20/geospatial-techno.html">Introducing GeoSpatial Techno with a Video Tutorial</a></li>
                  
                
                  
                  
                  
                  <li><a href="/tutorials/2019/09/03/geoserver-presentations-on-foss4g-2019.html">GeoServer Presentations on FOSS4G 2019</a></li>
                  
                
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
              </ul>
            </div>
          
            
            
            
            <div class="sidebar-category" onclick="toggleContents(this)" />
              <h4>&nbsp;Behind The Scenes</h4>
              <ul>
                
                  
                  
                  
                  <li><a href="/behind%20the%20scenes/2024/01/03/roadmap.html">GeoServer 2024 Roadmap Planning</a></li>
                  
                
                  
                  
                  
                  <li><a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">Log4j1 update or replace activity</a></li>
                  
                
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
              </ul>
            </div>
          
            
            
            
            <div class="sidebar-category" onclick="toggleContents(this)" />
              <h4>&nbsp;Vulnerability</h4>
              <ul>
                
                  
                  
                  
                  <li><a href="/vulnerability/2023/02/20/ogc-filter-injection.html">OGC Filter Injection Vulnerability Statement</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/11/18/geoserver-2-22-0-released.html">GeoServer 2.22.0 Release</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/10/24/geoserver-2-21-2-released.html">GeoServer 2.21.2 Release</a></li>
                  
                
                  
                  
                  
                  <li><a href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html">Jiffle and GeoTools RCE vulnerabilities</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/04/11/geoserver-2-20-4-released.html">GeoServer 2.20.4 Released</a></li>
                  
                
                  
                  
                  
                  <li><a href="/vulnerability/2022/04/01/spring.html">Spring4Shell RCE vulnerability</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/03/08/geoserver-2-20-3-released.html">GeoServer 2.20.3 Released</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/03/08/geoserver-2-19-5-released.html">GeoServer 2.19.5 Released</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2021/12/22/geoserver-2-19-4-released.html">GeoServer 2.19.4 Released</a></li>
                  
                
                  
                  
                  
                  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
                  
                    
              </ul>
            </div>
          
            
            
            
            <div class="sidebar-category" onclick="toggleContents(this)" />
              <h4>&nbsp;Developer notes</h4>
              <ul>
                
                  
                  
                  
                  <li><a href="/developer%20notes/2021/03/04/main-branch.html">GeoServer repository transition to main branch</a></li>
                  
                
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
              </ul>
            </div>
          
        </div>
      </div>
      <div id="footer">
    <span class="left"><a href="https://geoserver.org/feed.xml"><img alt="Atom feed" src="https://geoserver.org/img/rss-icon.png" height="16" width="16">Atom feed</a></span>
    <span class="right">
        &copy;2024 <a href="https://www.osgeo.org/">Open Source Geospatial Foundation</a>. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    </span>
</div>

    </div>
        <script src="/js/jquery-1.11.1.min.js"></script>
    <script src="/js/bootstrap-3.0.3.min.js"></script>
    <script src="/js/ol.js"></script>
    <script src="/js/app.js"></script>
    <script>
    $(document).ready(function() {
        if (typeof window.init != "undefined") {
          init();
        }
    });
    </script>
    
  </body>
</html>
