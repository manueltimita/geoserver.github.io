<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>GeoServer Blog</title>
    <meta name="viewport" content="width=device-width">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,800" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="/css/bootstrap-3.0.3.min.css">
    <link rel="stylesheet" href="/css/ol.css"/>
    <link rel="stylesheet" href="/css/app.css">
    <link rel="alternate" type="application/atom+xml" title="Atom feed" href="https://geoserver.org/feed.xml">

    <link rel="shortcut icon" href="/favicon.ico">
  </head>

  <body >
      <nav class="navbar" role="navigation">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" 
              data-target="#gs-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">GeoServer</a>
    </div>

    <div class="collapse navbar-collapse" id="gs-navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="/about">About</a>
        </li>
        <li>
          <a href="/blog" target="_blank">Blog</a>
        </li>        
        <li>
          <a href="/download">Download</a>
        </li>
        <li>
          <a href="http://docs.geoserver.org">Documentation</a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="/comm">Community Support</a></li>
            <li><a href="/support">Commercial Support</a></li>
            <li><a href="/issues">Issue Tracker</a></li>
            <li><a href="/devel">Community Development</a></li>
            <li><a href="/sponsor">Sponsorship</a></li>
            <li><a href="/roadmap">Roadmap</a></li>
            <li><a href="https://github.com/geoserver/geoserver/wiki/Home" target="_blank">Wiki</a></li>
            <li><a href="https://github.com/geoserver/geoserver/graphs/contributors">Contributors</a></li>
            <li><a href="https://github.com/geoserver/geoserver/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
            <li><a href="/license">License</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <a href="https://github.com/geoserver/geoserver" target="_blank">
      <img style="position: absolute; top: 0; right: 0; border: 0;"
           decoding="async" loading="lazy" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_green_007200.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1">
    </a>
  </nav>

      <div class="background">
        <div class="post-body">
          <div class="wrapper blog">
            <div class="content">
              <div class="post">

                <header class="post-header">
                  <h1 class="post-title">GeoServer Blog</h1>
                  <p class="post-meta"></p>
                </header>

                <article class="post-content">
                  <style>
.content section:last-child {
    padding-bottom: 20px;
}
</style>

<!-- This loops through the paginated posts -->

<div class="content">
  <div class="post post-preview">

    <header class="post-header">
      <h1 class="post-title"><a href="/announcements/2022/08/22/geoserver-2-22-M0-milestone-released.html" >GeoServer 2.22-M0 Milestone Release</a></h1>
      <p class="post-meta">Aug 22, 2022 • Jody Garnett</p>
    </header>

    <article class="post-content">
      <p>GeoServer <a href="/release/2.22-M0/">2.22-M0</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.22-M0/geoserver-2.22-M0-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.22-M0/geoserver-2.22-M0-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.22-M0/GeoServer-2.22-M0-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.22-M0/geoserver-2.22-M0-htmldoc.zip/download">docs</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.22-M0/extensions/">extensions</a>, and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.22-M0/geoserver-2.22-M0-data.zip/download">data directory</a>.</p>

<p>This is a milestone release previewing the GeoServer 2.22.x series for FOSS4G attendees.</p>

<p>Thanks to Jody Garnett and Ian Turton for making this release.</p>

<h3 id="docker-image">Docker image</h3>

<p>This release is also available as an official <a href="https://github.com/geoserver/docker">Docker image</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull docker.osgeo.org/geoserver:2.22-M0
docker run -it -p 80:8080 docker.osgeo.org/geoserver:2.22-M0
</code></pre></div></div>

<h3 id="welcome-page-improvements">Welcome Page Improvements</h3>

<p>The welcome page has been improved with the ability to:</p>

<ul>
  <li>Select workspace to browse workspace web services</li>
  <li>Select layer and layergroup for layer specific web services</li>
</ul>

<p><img src="/img/posts/2.22/welcome-workspace.png" alt="Welcome workspace" /> <br /></p>

<h3 id="geopackage-sample-data">GeoPackage Sample data</h3>

<p>The sample data directory now includes a small geopackage generated from <a href="https://www.naturalearthdata.com">Natural Earth</a> data.</p>

<p><img src="/img/posts/2.22/world-map.png" alt="World map" /> <br /></p>

<h2 id="about-geoserver-222">About GeoServer 2.22</h2>

<p>Release notes:
( <a href="https://github.com/geoserver/geoserver/releases/tag/2.22-M0">2.22-M0</a>
)</p>

    </article>

  </div>
  <div class="post-more"><a href="/announcements/2022/08/22/geoserver-2-22-M0-milestone-released.html" >Read More</a></div>
</div>

<div class="content">
  <div class="post post-preview">

    <header class="post-header">
      <h1 class="post-title"><a href="/announcements/2022/08/01/geoserver-2-21-1-released.html" >GeoServer 2.21.1 Release</a></h1>
      <p class="post-meta">Aug 1, 2022 • Jody Garnett</p>
    </header>

    <article class="post-content">
      <p>GeoServer <a href="/release/2.21.1/">2.21.1</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.1/geoserver-2.21.1-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.1/geoserver-2.21.1-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.1/GeoServer-2.21.1-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.1/geoserver-2.21.1-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.1/extensions/">extensions</a>.</p>

<p>This is a stable release of the GeoServer 2.21.x series, made in conjunction with GeoTools 27.1 
and GeoWebCache 1.21.1.</p>

<p>Thanks to Jody Garnett (GeoCat) for making this release.</p>

<h3 id="server-status">Server Status</h3>

<p>The server status page has been cleaned up with a few quality of life improvements:</p>

<ul>
  <li>Units supplied for numbers, such as “7 threads” or “30,000 ms”</li>
  <li>Number of items held in the resource cache is shown, so there is visual feed back when using <strong>Clear</strong> button.</li>
  <li>Documentation has been updated to cover all the status field descriptions and document the available actions</li>
</ul>

<p>For more information see <a href="https://docs.geoserver.org/stable/en/user/configuration/status.html#server-status">Server Status page</a>.</p>

<p><img src="/img/posts/2.21/server_status.png" alt="Server status" /> <br /></p>

<h3 id="jvm-console">JVM Console</h3>

<p>A new <strong>JVM Console</strong> tab has been added to the server status page allowing a summary of memory use to be reviewed and downloaded, and a summary of active threads to be reviewed and downloaded.</p>

<p>For more information see <a href="https://docs.geoserver.org/stable/en/user/configuration/status.html#jvm-console">JVM Console</a>.</p>

<p><img src="/img/posts/2.21/jvm_console.png" alt="JVM Console" /> <br /></p>

<h3 id="workspace-headers-for-proxy-url">Workspace headers for proxy url</h3>

<p>A checkbox <strong>Use headers for Proxy URL</strong> has been added to the workspace page.</p>

<p>This setting an individual workspace use headers for proxy URL (even when the default in global settings has been disabled).</p>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<p>Improvement:</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10580">GEOS-10580</a> Server status page improvements for status, modules and docs</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10521">GEOS-10521</a> Allow GetFeatureInfo over raster layers to identify both original raster and transformed vectors</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10514">GEOS-10514</a> Better capture catalog configuration issues: layergroup with a misconfigured layer</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10501">GEOS-10501</a> GetMap: support auth headers forwarding to remote SLD urls</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10495">GEOS-10495</a> Request Logger Memory Buffer Limits</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10489">GEOS-10489</a> Add options to LDAP Role Service to configure prefixes and enforce capitalization</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10464">GEOS-10464</a> Improve logging and check for NPEs and other issues in Importer Module</p>

<p>Bug:</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10584">GEOS-10584</a> Enabling logging of request body results in stream closed errors in tomcat environment</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10570">GEOS-10570</a> Deleting a style in a Hazelcast cluster renames the styles directory</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10553">GEOS-10553</a> Importer replace fails with schema mismatch</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10548">GEOS-10548</a> GeoFence layer group handling is inconsistent</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10546">GEOS-10546</a> Invalid time expressions used in WCS 2.0 subset return a code 200 with generic exception</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10545">GEOS-10545</a> Layer Group cache not initialized</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10539">GEOS-10539</a> DescribeLayer typeName is no longer workspace qualified</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10535">GEOS-10535</a> WFS Update request throw NPE on bad namespace</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10534">GEOS-10534</a> a badly formed delete transaction will get a NPE instead of an informative error message</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10533">GEOS-10533</a> Review startup logging INFO and WARN updates</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10526">GEOS-10526</a> Parallel REST API calls failures</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10522">GEOS-10522</a> REST API Failure in @ExceptionHandler No input String specified</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10518">GEOS-10518</a> Partial RELINQUISH_LOG4J_CONTROL regression with WildFly</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10516">GEOS-10516</a> WMS GetCapabilities dimension representations ignores the end attribute</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10496">GEOS-10496</a> Using the REST API to purge NetCDF granules causes a seemingly infinite loop</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10487">GEOS-10487</a> Custom logging configuration not respecting log location setting</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10468">GEOS-10468</a> (virtually) Impossible to turn off “Enable All Statistics” in  &gt; Server status &gt; System Status</p>

<p>Tasks:</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10588">GEOS-10588</a> Build structure gs-sec-oauth2-core is duplicated in the reactor</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10585">GEOS-10585</a> Upgrade to Jetty from 9.4.44 to 9.4.48</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10579">GEOS-10579</a> Bump oshi-core from 6.2.0 to 6.2.1</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10562">GEOS-10562</a> Bump oshi-core from 5.8.6 to 6.2.0</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10551">GEOS-10551</a> Refactor commons-httpclient usage in the WPS module</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10532">GEOS-10532</a> FreemarkerTemplateManager API changes for easier subclassing</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10529">GEOS-10529</a> Use Awaitility to replace waits for condition in tests</p>

<p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10525">GEOS-10525</a> Centralize and simplify management of common test dependencies</p>

<h2 id="about-geoserver-221">About GeoServer 2.21</h2>

<p>Additional information on GeoServer 2.21 series:</p>

<ul>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">Feature Type Customization</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">Add Styles support to LayerGroup</a></li>
  <li><a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">Log4j1 update or replace activity</a></li>
</ul>

<p>Release notes:
( <a href="https://github.com/geoserver/geoserver/releases/tag/2.21.1">2.21.1</a>
| <a href="https://github.com/geoserver/geoserver/releases/tag/2.21.0">2.21.0</a>
| <a href="https://github.com/geoserver/geoserver/releases/tag/2.21-RC">2.21-RC</a>
)</p>

    </article>

  </div>
  <div class="post-more"><a href="/announcements/2022/08/01/geoserver-2-21-1-released.html" >Read More</a></div>
</div>

<div class="content">
  <div class="post post-preview">

    <header class="post-header">
      <h1 class="post-title"><a href="/announcements/2022/07/01/geoserver-2-20-5-released.html" >GeoServer 2.20.5 Released</a></h1>
      <p class="post-meta">Jul 1, 2022 • Andrea Aime</p>
    </header>

    <article class="post-content">
      <p>We are happy to announce GeoServer <a href="/release/2.20.5/">2.20.5</a> release is available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.5/geoserver-2.20.5-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.5/geoserver-2.20.5-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.5/GeoServer-2.20.5-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.5/geoserver-2.20.5-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.20.5/extensions/">extensions</a>.</p>

<p>This is a maintenance release of the 2.20.x series recommended for production systems. This release was made in conjunction with GeoTools 26.5 and GeoWebCache 1.20.3.</p>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<ul>
  <li>The request logger is now configurable from the UI (form the “Global settings” panel),</li>
  <li>Importer improvements to support REPLACE mode on raster layers (in addition to the existing support for vector ones).</li>
  <li>The KML-PPIO module has graduated to extension (allows KML encoding of feature collections in WPS processes). It’s now included in the WPS plugin download.</li>
  <li>WPS fetching of remote inputs can be disabled.</li>
  <li>Allow controlling usage of headers in proxy base URL expansion at the workspace level.</li>
</ul>

<p>For the full list of fixes and improvements, see <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.5">2.20.5 release notes</a>.</p>

<h2 id="about-geoserver-220">About GeoServer 2.20</h2>

<p>Additional information on GeoServer 2.20 series:</p>

<ul>
  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
  <li><a href="https://docs.geoserver.org/latest/en/user/services/internationalization/index.html">Internationalization of title and abstract</a></li>
  <li><a href="https://docs.google.com/presentation/d/19Cmld0_VFePh1g4qUSfqNWWB0t-teClFpT3eUqpYGos/edit?usp=sharing">State of GeoServer 2.20 edition</a></li>
  <li><a href="https://docs.geoserver.org/stable/en/user/installation/win_installer.html">Windows Installer</a></li>
</ul>

<p>Release notes: ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.2">2.20.2</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.1">2.20.1</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20.0">2.20.0</a> | <a href="https://github.com/geoserver/geoserver/releases/tag/2.20-RC">2.20-RC</a> )</p>

    </article>

  </div>
  <div class="post-more"><a href="/announcements/2022/07/01/geoserver-2-20-5-released.html" >Read More</a></div>
</div>

<div class="content">
  <div class="post post-preview">

    <header class="post-header">
      <h1 class="post-title"><a href="/announcements/2022/05/24/geoserver-2-21-0-released.html" >GeoServer 2.21.0 Release</a></h1>
      <p class="post-meta">May 24, 2022 • Ian Turton</p>
    </header>

    <article class="post-content">
      <p>GeoServer <a href="/release/2.21.0/">2.21.0</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/geoserver-2.21.0-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/geoserver-2.21.0-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/GeoServer-2.21.0-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/geoserver-2.21.0-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21.0/extensions/">extensions</a>.</p>

<p>This is a first release of the new stable branch of GeoServer and is made in conjunction with GeoTools 27.0 
and GeoWebCache 1.21.0.</p>

<ul>
  <li>GeoServer now supports Java 17! This is likely to be the last release that supports Java 8 and we encourage
users to start to make the transition to Java 11 during the lifetime of this branch.</li>
  <li>Thanks to everyone who help tested the release candidate on and off list: Daniel Calliess, Georg Weickelt, 
Stefan Overkamp,  Nicolas Matzick, Sander Schaminee, Jose Garcia, Rosa Briones, Jody Garnett, Andrea Aime, 
Ian Turton.</li>
</ul>

<p>Thanks to Ian Turton, Astun Technology, for making this release.</p>

<h3 id="feature-type-customization">Feature Type Customization</h3>

<p>We are pleased to share a long-requested feature - the ability to rename attributes and change attribute order when publishing a FeatureType.</p>

<p><img src="/img/posts/2.21/feature_type_remap.png" alt="Feature type customization" /> <br /></p>

<p>It is also possible to change attribute type, and with the use of ECQL expressions generate new attributes on the fly.</p>

<p>The above example works around the limitations of shapefile to use longer names, and creates a new attribute <code class="language-plaintext highlighter-rouge">capital</code> on the fly from an expression, as shown in the following GetFeatureInfo output.</p>

<p><img src="/img/posts/2.21/tasmania_feature_type.png" alt="GetFeatureInfo tasmania_cities" /> <br /></p>

<p>This is a great new addition to GeoServer, please see <a href="https://docs.geoserver.org/latest/en/user/data/webadmin/layers.html#feature-type-details-vector">Feture Type Details</a> in the user guide for details.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10356">GEOS-10356</a> Allow feature type customization</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">GSIP-207</a> and implementation, and Canton of Solothurn for funding the work.</p>

<h3 id="translations-and-language-chooser">Translations and Language Chooser</h3>

<p>A big thanks to Alexandre Gacon and everyone who helped improve GeoServer internationalization for during this release cycle.</p>

<p>To support this activity Andrea Aime has contributed a language chooser to the top of the screen (near the login button).</p>

<p><img src="/img/posts/2.21/language.png" alt="Language chooser" /><br /></p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/webadmin/index.html#choosing-the-ui-language">Choosing the UI language</a> (User Guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-1158">GEOS-1158</a> Specify Geoserver UI Language in Configuration</li>
</ul>

<h3 id="add-styles-support-to-layergroup">Add Styles support to LayerGroup</h3>

<p>Layer groups can now be configured with additional styles, with each style listing a series of layers along with the style used to render each layer.</p>

<p><img src="/img/posts/2.21/layer_group_styles.png" alt="Layer group styles" /> <br /></p>

<p>This allows a <code class="language-plaintext highlighter-rouge">SINGLE</code> or <code class="language-plaintext highlighter-rouge">OPAQUE</code> layer group to list alternate styles in addition to the default one. Each alternate style is defined by a named configuration of layers and styles providing a unique visual representation.</p>

<p>In the above example the layer group Tasmania is setup with an alternate “data” presentation, presenting the content with the geoserver default styles <code class="language-plaintext highlighter-rouge">point</code>, <code class="language-plaintext highlighter-rouge">line</code> and <code class="language-plaintext highlighter-rouge">polygon</code>.</p>

<p><img src="/img/posts/2.21/layer_group_tas.png" alt="Layer group style Tasmania" /> <br /></p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/data/webadmin/layergroups.html#layer-group-styles">Layer Group Styles</a> (User Guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10252">GEOS-10252</a> Add Styles support to LayerGroup</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10274">GEOS-10274</a> Geofence follow up LayerGroup Style addition</li>
</ul>

<p>Thanks to Marco Volpini (GeoSolutions) for <a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">GSIP-205</a> proposal and implementation, and the Swedish Agency for Marine and Water Management for sponsoring this new functionality.</p>

<h3 id="geopackage-wms-and-wfs-output">GeoPackage WMS and WFS Output</h3>

<p>The result of proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-206">GSIP-206</a> is the creation of the gs-geopkg-output extension packaging up the WFS and WMS output formats from the geopackage community module.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl "http://localhost:8080/geoserver/wfs?service=wfs&amp;version=2.0.0&amp;request=GetFeature&amp;typeNames=topp:states&amp;outputFormat=geopkg" -o wfs.gpkg
</code></pre></div></div>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/extensions/geopkg-output/usage.html">Using the GeoPackage Output Extension</a> in the user guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10351">GEOS-10351</a> [GSIP 206] Promote GeoPackage WFS and WMS output formats to an extension</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-8793">GEOS-8793</a> WFS 1.1.0/2.0.0 GeoPackage output wrong Coordinate Order</li>
</ul>

<p>Thanks to David Blasby and Jody Garnett (GeoCat) for packaging up this work as an extension. This work was 
supported in part by Rijkswaterstaat.</p>

<h3 id="mark-factory-precedence">Mark Factory Precedence</h3>

<p>When rendering maps with lots of individual graphics, looking up the correct implementation (known as a MarkFactory) can be time consuming.</p>

<p>WMS Settings have new capability to filter out any mark factories not being used, and provide an order to prioritise the ones being used.</p>

<p><img src="/img/posts/2.21/markfactory.png" alt="MarkFactory precedence" /><br /></p>

<p>For more information see <a href="https://docs.geoserver.org/stable/en/user/services/wms/webadmin.html#mark-factory-precedence">WMS Web Administration</a> (user guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10230">GEOS-10230</a> MarkFactory WMS rendering performance optimization</li>
</ul>

<p>Thanks to Fernando Mino (GeoSolutions Group) for troubleshooting this performance issue, and proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-204">GSIP-204</a> as an optimization. Thanks to EMSA for sponsoring the improvement.</p>

<h3 id="log4j-2-upgrade">Log4J 2 Upgrade</h3>

<p>The assessment of <a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4Shell</a> vulnerability highlighted that although GeoSever was not affected, our use of the older Log4j 1.2 was a notable risk. This discussion resulted a <a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">small fundraising effort</a> and proposal to <a href="https://github.com/geoserver/geoserver/wiki/GSIP-167">upgrade to Log4j 2</a>.</p>

<p>The result is a small change to the user interface, listing logging profiles by name (previously the file extension was also listed).</p>

<p><img src="/img/posts/2.21/logging.png" alt="Log4j update" /><br /></p>

<p>Internally this release changes from Log4j 1.2 logging profiles (using <code class="language-plaintext highlighter-rouge">properties</code> extension) to Log4j 2 logging profiles (using <code class="language-plaintext highlighter-rouge">xml</code> extension):</p>

<ul>
  <li>
    <p>The built-in logging profiles (<code class="language-plaintext highlighter-rouge">DEFAULT_LOGGING</code>, <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING</code>, …) are replaced with new Log4j 2 <code class="language-plaintext highlighter-rouge">xml</code> files.</p>
  </li>
  <li>
    <p>Previous custom logging profiles will continue to be available (Log4J 2 has the ability to read the older Log4J 1.2 properties files).</p>
  </li>
  <li>
    <p>If you made any customizations to the built-in profiles, you can recover your changes from backup <code class="language-plaintext highlighter-rouge">bak</code> file. You can use this backup as a reference when creating a new <code class="language-plaintext highlighter-rouge">xml</code> logging profile, or restore this under a different name which does not conflict with the built-in logging profiles.</p>

    <p>A customization to <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties</code> will be backed up to <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties.bak</code>. This can be restored by renaming <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties.bak</code> to <code class="language-plaintext highlighter-rouge">CUSTOM_LOGGING.properties</code>.</p>
  </li>
</ul>

<p>In addition to the <code class="language-plaintext highlighter-rouge">INFO</code> status messages, you will notice a new <code class="language-plaintext highlighter-rouge">CONFIG</code> logging level used during application startup:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONFIG [org.geoserver] - GeoServer configuration lock is enabled
CONFIG [org.geoserver] - Loading catalog...
...
</code></pre></div></div>

<p>For more information, and examples of writing a Log4J 2 profile, see <a href="https://docs.geoserver.org/latest/en/user/configuration/globalsettings.html#logging-settings">Logging Settings</a> and <a href="https://docs.geoserver.org/latest/en/user/configuration/logging.html">Advanced log configuration</a> in the User Guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10426">GEOS-10426</a> GSIP 167: Upgrade Log4j</li>
</ul>

<p>Thanks to Jody Garnett (GeoCat) for completing this work, and to the following sponsors for supporting this activity.</p>

<ul>
  <li><a href="https://opengeogroep.nl/">opengeogroep.nl</a></li>
  <li><a href="https://www.terrestris.de/en/">www.terrestris.de</a></li>
  <li><a href="http://how2map.com">how2map.com</a></li>
  <li><a href="https://www.geonovation.nl/">www.geonovation.nl</a></li>
</ul>

<h3 id="logging-rest-api">Logging REST API</h3>

<p>For more information please see <a href="https://docs.geoserver.org/latest/en/user/rest/api/logging.html">Logging settings</a> (User Guide) and <a href="https://docs.geoserver.org/latest/en/api/#1.0.0/logging.yaml">GeoServer Logging</a> (REST API).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10368">GEOS-10368</a> Logging Controller Addition allows configuration of logging via REST API.</li>
</ul>

<p>Thanks to Yalın Eren Deliorman (GeoSolutions) for this contribution, and Eumetsat for sponsoring the work.</p>

<h3 id="new-wps-settings-and-kml-inputoutput-support">New WPS settings and KML input/output support</h3>

<p>A number of improvements have been made to the WPS service:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10443">GEOS-10443</a> Graduate kml-ppio community module to wps extension. Thanks to GeoSolutions for taking the maintainership of the module, and Masego Inc. for sponsoring the graduation work.</p>

    <p>KML can now be used with WPS service for both input and output parameters.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10391">GEOS-10391</a> Add external output directory setting to limit where processes can write</p>

    <p>See WPS setting for <a href="https://docs.geoserver.org/latest/en/user/services/wps/administration.html#execution-and-resource-management-options">external output directory</a> in User Guide.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10431">GEOS-10431</a> Add WPS setting to disable remote complex inputs.</p>

    <p>See <a href="https://docs.geoserver.org/main/en/user/services/wps/security.html#complex-inputs">WPS Security and input limits</a> in the User Guide.</p>
  </li>
</ul>

<p>Thanks to the GeoNode project for these WPS improvements.</p>
<h3 id="gdal-3x-compatibility">GDAL 3.x Compatibility</h3>

<p>The gdal-output extension is tested against GDAL 3.x series.</p>

<p>Please pay careful attention to the installation instructions, while the extensions includes <code class="language-plaintext highlighter-rouge">gdal-3.2.0.jar</code> you should double check the native binaries (included in your Linux distribution or installed by hand) and download an appropriate <a href="https://search.maven.org/artifact/org.gdal/gdal">replacement jar online</a>.</p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/data/raster/gdal.html#installing-gdal-native-libraries">Installing GDAL native libraries</a> in the User Guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10402">GEOS-10402</a> Upgrade imageio-ext to 1.4.0 (tested with gdal 3.2)</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for making the ImageIO-EXT release, and Jody Garnett (GeoCat) for GDAL 
3.x upgrade and testing. This work was supported in part by Rijkswaterstaat.</p>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<p>New features:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10228">GEOS-10228</a> Add wrap_limit property to wrap the category text values of a legend</li>
</ul>

<p>Improvements:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10146">GEOS-10146</a> App-schema: support for multiple geometries with different CRS</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10246">GEOS-10246</a> jdbcconfig: performance slow-down from unnecessary transactions</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10251">GEOS-10251</a> Refactor MapML vocabulary to map- custom elements HTML namespace</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10463">GEOS-10463</a> Support WCS default value for Deflate Compression</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10320">GEOS-10320</a> Support GetFeatureInfo on raster layers with transformations turning the output into vector</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10405">GEOS-10405</a> GetFeatureInfo: Support multiple featureCollections per query layer</li>
</ul>

<p>Fixes:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10226">GEOS-10226</a> ResourcePool leaves empty files on failure</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10318">GEOS-10318</a> CSV output format for complex features doesn’t resolve namespace URIs to prefixes on attributes names</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10235">GEOS-10235</a> Prevent double-quote to be specified as CSV separator</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10477">GEOS-10477</a> SLD - Validation error on Normalize-node</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10448">GEOS-10448</a> GetTimeSeries does not limit number of dates when using a time range request (without period)</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10429">GEOS-10429</a> Style validation error using the VendorOption “graphic-margin”</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10318">GEOS-10318</a> CSV output format for complex features doesn’t resolve namespace URIs to prefixes on attributes names</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10502">GEOS-10502</a> GML3 output is not pretty printed when pretty print is turned on in global settings.</li>
</ul>

<p>Tasks:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10458">GEOS-10458</a> Update jai-ext to 1.1.22</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10446">GEOS-10446</a> Upgrade to commons-codec 1.15 version</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10363">GEOS-10363</a> Switch from itextpdf to openpdf for PDF map rendering</li>
</ul>

<h2 id="about-geoserver-221">About GeoServer 2.21</h2>

<p>Additional information on GeoServer 2.21 series:</p>

<ul>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">Feature Type Customization</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">Add Styles support to LayerGroup</a></li>
  <li><a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">Log4j1 update or replace activity</a></li>
</ul>

<p>Release notes: ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.21.0">2.21.0</a>, 
<a href="https://github.com/geoserver/geoserver/releases/tag/2.21-RC">2.21-RC</a>  )</p>

    </article>

  </div>
  <div class="post-more"><a href="/announcements/2022/05/24/geoserver-2-21-0-released.html" >Read More</a></div>
</div>

<div class="content">
  <div class="post post-preview">

    <header class="post-header">
      <h1 class="post-title"><a href="/announcements/2022/05/09/geoserver-2-21-RC-released.html" >GeoServer 2.21-RC Release Candidate</a></h1>
      <p class="post-meta">May 9, 2022 • Jody Garnett</p>
    </header>

    <article class="post-content">
      <p>GeoServer <a href="/release/2.21-RC/">2.21-RC</a> release is now available with downloads (<a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/geoserver-2.21-RC-bin.zip/download">bin</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/geoserver-2.21-RC-war.zip/download">war</a>, <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/GeoServer-2.21-RC-winsetup.exe/download">windows</a>), along with <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/geoserver-2.21-RC-htmldoc.zip/download">docs</a> and <a href="https://sourceforge.net/projects/geoserver/files/GeoServer/2.21-RC/extensions/">extensions</a>.</p>

<p>This is a GeoServer release candidate made in conjunction with GeoTools 27-RC and GeoWebCache 1.21-RC.</p>

<ul>
  <li>Release candidates are a community building exercise and are not intended for production use.</li>
  <li>We ask the community (everyone: individuals, organizations, service providers) to download and thoroughly test this release candidate and report back.</li>
  <li>Testing priority is the new internationalization support</li>
  <li>Participating in testing release candidates is a key expectation of our <a href="http://www.ianturton.com/talks/foss4g.html#/">open source social contract</a>. We make an effort to thank each person who tests in our release announcement and project presentations!</li>
  <li>GeoServer <a href="http://geoserver.org/support/">commercial service providers</a> are fully expected to test on behalf of their customers.</li>
</ul>

<h3 id="release-candidate-testing-priorities">Release Candidate Testing Priorities</h3>

<p>We would like to ask for your assistance testing the following:</p>

<ul>
  <li>
    <p>Try out the new language chooser, and if you spot any translations you can help out with we would love your <a href="https://docs.geoserver.org/latest/en/developer/translation.html">assistance translating geoserver</a>.</p>
  </li>
  <li>
    <p>The ability to customize feature types allows for a lot of creativity, please try this out and share your examples</p>
  </li>
  <li>
    <p>This release features a new Log4J logging system. If you only choose between the built-in logging profiles we expect everything to be smooth an uneventful.</p>

    <p>If you have made any custom logging profiles, or customized the built-in logging profiles in place, some additional care is required (see below). We are very interested in this upgrade process and ask for your feedback and testing at this time.</p>
  </li>
  <li>
    <p>For those using GDAL or OGR please check the instructions below on upgrading to GDAL 3.</p>
  </li>
</ul>

<p>A reminder that open-source is a community activity and we ask everyone to take part at this time.</p>

<h3 id="feature-type-customization">Feature Type Customization</h3>

<p>We are pleased to share a long-requested feature - the ability to rename attributes and change attribute order when publishing a FeatureType.</p>

<p><img src="/img/posts/2.21/feature_type_remap.png" alt="Feature type customization" /> <br /></p>

<p>It is also possible to change attribute type, and with the use of ECQL expressions generate new attributes on the fly.</p>

<p>The above example works around the limitations of shapefile to use longer names, and creates a new attribute <code class="language-plaintext highlighter-rouge">capital</code> on the fly from an expression, as shown in the following GetFeatureInfo output.</p>

<p><img src="/img/posts/2.21/tasmania_feature_type.png" alt="GetFeatureInfo tasmania_cities" /> <br /></p>

<p>This is a great new addition to GeoServer, please see <a href="https://docs.geoserver.org/latest/en/user/data/webadmin/layers.html#feature-type-details-vector">Feture Type Details</a> in the user guide for details.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10356">GEOS-10356</a> Allow feature type customization</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">GSIP-207</a> and implementation.</p>

<h3 id="translations-and-language-chooser">Translations and Language Chooser</h3>

<p>A big thanks to Alexandre Gacon and everyone who helped improve GeoServer internationalization for during this release cycle.</p>

<p>To support this activity Andrea Aime has contributed a language chooser to the top of the screen (near the login button).</p>

<p><img src="/img/posts/2.21/language.png" alt="Language chooser" /><br /></p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/webadmin/index.html#choosing-the-ui-language">Choosing the UI language</a> (User Guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-1158">GEOS-1158</a> Specify Geoserver UI Language in Configuration</li>
</ul>

<h3 id="add-styles-support-to-layergroup">Add Styles support to LayerGroup</h3>

<p>Layer groups can now be configured with additional styles, with each style listing a series of layers along with the style used to render each layer.</p>

<p><img src="/img/posts/2.21/layer_group_styles.png" alt="Layer group styles" /> <br /></p>

<p>This allows a <code class="language-plaintext highlighter-rouge">SINGLE</code> or <code class="language-plaintext highlighter-rouge">OPAQUE</code> layer group to list alternate styles in addition to the default one. Each alternate style is defined by a named configuration of layers and styles providing a unique visual representation.</p>

<p>In the above example the layer group Tasmania is setup with an alternate “data” presentation, presenting the content with the geoserver default styles <code class="language-plaintext highlighter-rouge">point</code>, <code class="language-plaintext highlighter-rouge">line</code> and <code class="language-plaintext highlighter-rouge">polygon</code>.</p>

<p><img src="/img/posts/2.21/layer_group_tas.png" alt="Layer group style Tasmania" /> <br /></p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/data/webadmin/layergroups.html#layer-group-styles">Layer Group Styles</a> (User Guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10252">GEOS-10252</a> Add Styles support to LayerGroup</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10274">GEOS-10274</a> Geofence follow up LayerGroup Style addition</li>
</ul>

<p>Thanks to Marco Volpini (GeoSolutions) for <a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">GSIP-205</a> proposal and implementation.</p>

<h3 id="geopackage-wms-and-wfs-output">GeoPackage WMS and WFS Output</h3>

<p>The result of proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-206">GSIP-206</a> is the creation of the gs-geopkg-output extension packaging up the WFS and WMS output formats from the geopackage community module.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl "http://localhost:8080/geoserver/wfs?service=wfs&amp;version=2.0.0&amp;request=GetFeature&amp;typeNames=topp:states&amp;outputFormat=geopkg" -o wfs.gpkg
</code></pre></div></div>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/extensions/geopkg-output/usage.html">Using the GeoPackage Output Extension</a> in the user guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10351">GEOS-10351</a> [GSIP 206] Promote GeoPackage WFS and WMS output formats to an extension</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-8793">GEOS-8793</a> WFS 1.1.0/2.0.0 GeoPackage output wrong Coordinate Order</li>
</ul>

<p>Thanks to David Blasby and Jody Garnett (GeoCat) for packaging up this work as an extension.</p>

<h3 id="mark-factory-precedence">Mark Factory Precedence</h3>

<p>When rendering maps with lots of individual graphics, looking up the correct implementation (known as a MarkFactory) can be time consuming.</p>

<p>WMS Settings have new capability to filter out any mark factories not being used, and provide an order to prioritise the ones being used.</p>

<p><img src="/img/posts/2.21/markfactory.png" alt="MarkFactory precedence" /><br /></p>

<p>For more information see <a href="https://docs.geoserver.org/stable/en/user/services/wms/webadmin.html#mark-factory-precedence">WMS Web Administration</a> (user guide).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10230">GEOS-10230</a> MarkFactory WMS rendering performance optimization</li>
</ul>

<p>Thanks to Fernando Mino (GeoSolutions Group) for troubleshooting this performance issue, and proposal <a href="https://github.com/geoserver/geoserver/wiki/GSIP-204">GSIP-205</a> as an optimization.</p>

<h3 id="log4j-2-upgrade">Log4J 2 Upgrade</h3>

<p>The assessment of <a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4Shell</a> vulnerability highlighted that although GeoSever was not affected, our use of the older Log4j 1.2 was a notable risk. This discussion resulted a <a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">small fundraising effort</a> and proposal to <a href="https://github.com/geoserver/geoserver/wiki/GSIP-167">upgrade to Log4j 2</a>.</p>

<p>The result is a small change to the user interface, listing logging profiles by name (previously the file extension was also listed).</p>

<p><img src="/img/posts/2.21/logging.png" alt="Log4j update" /><br /></p>

<p>Internally this release replaces changes from Log4j 1.2 logging profiles (using <code class="language-plaintext highlighter-rouge">properties</code> extension) to Log4j 2 logging profiles (using <code class="language-plaintext highlighter-rouge">xml</code> extension):</p>

<ul>
  <li>
    <p>The built-in logging profiles (<code class="language-plaintext highlighter-rouge">DEFAULT_LOGGING</code>, <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING</code>, …) are replaced with new Log4j 2 <code class="language-plaintext highlighter-rouge">xml</code> files.</p>
  </li>
  <li>
    <p>Previous custom logging profiles will continue to be available (Log4J 2 has the ability to read the older Log4J 1.2 properties files).</p>
  </li>
  <li>
    <p>If you made any customizations to the built-in profiles, you can recover your changes from backup <code class="language-plaintext highlighter-rouge">bak</code> file. You can use this backup as a reference when creating a new <code class="language-plaintext highlighter-rouge">xml</code> logging profile, or restore this under a different name which does not conflict with the built-in logging profiles.</p>

    <p>A customization to <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties</code> will be backed up to <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties.bak</code>. This can be restored by renaming <code class="language-plaintext highlighter-rouge">PRODUCTION_LOGGING.properties.bak</code> to <code class="language-plaintext highlighter-rouge">CUSTOM_LOGGING.properties</code>.</p>
  </li>
</ul>

<p>In addition to the <code class="language-plaintext highlighter-rouge">INFO</code> status messages, you will notice a new <code class="language-plaintext highlighter-rouge">CONFIG</code> logging level used during application startup:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONFIG [org.geoserver] - GeoServer configuration lock is enabled
CONFIG [org.geoserver] - Loading catalog...
...
</code></pre></div></div>

<p>For more information, and examples of writing on log4J 2 profile, see <a href="https://docs.geoserver.org/latest/en/user/configuration/globalsettings.html#logging-settings">Logging Settings</a> and <a href="https://docs.geoserver.org/latest/en/user/configuration/logging.html">Advanced log configuration</a> in the User Guide. Of note is the introduction of a new <code class="language-plaintext highlighter-rouge">CONFIG</code> logging level used loading and saving configuration changes.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10426">GEOS-10426</a> GISP 167: Upgrade Log4j</li>
</ul>

<p>Thanks to Jody Garnett (GeoCat) for completing this work, and to the following sponsors for supporting this activity.</p>

<ul>
  <li><a href="https://opengeogroep.nl/">opengeogroep.nl</a></li>
  <li><a href="https://www.terrestris.de/en/">www.terrestris.de</a></li>
  <li><a href="http://how2map.com">how2map.com</a></li>
  <li><a href="https://www.geonovation.nl/">www.geonovation.nl</a></li>
</ul>

<h3 id="logging-rest-api">Logging REST API</h3>

<p>For more information please see <a href="https://docs.geoserver.org/latest/en/user/rest/api/logging.html">Logging settings</a> (User Guide) and <a href="https://docs.geoserver.org/latest/en/api/#1.0.0/logging.yaml">GeoServer Logging</a> (REST API).</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10368">GEOS-10368</a> Logging Controller Addition allows configuration of logging via REST API.</li>
</ul>

<p>Thanks to Yalın Eren Deliorman for this contribution.</p>

<h3 id="new-wps-settings-and-kml-inputoutput-support">New WPS settings and KML input/output support</h3>

<p>A number of improvements have been made to the WPS service:</p>

<ul>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10443">GEOS-10443</a> Graduate kml-ppio community module to wps extension</p>

    <p>KML can now be used with WPS service for both input and output parameters.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10391">GEOS-10391</a> Add external output directory setting to limit where processes can write</p>

    <p>See WPS setting for <a href="https://docs.geoserver.org/latest/en/user/services/wps/administration.html#execution-and-resource-management-options">external output directory</a> in User Guide.</p>
  </li>
  <li>
    <p><a href="https://osgeo-org.atlassian.net/browse/GEOS-10431">GEOS-10431</a> Add WPS setting to disable remote complex inputs.</p>

    <p>See <a href="https://docs.geoserver.org/main/en/user/services/wps/security.html#complex-inputs">WPS Security and input limits</a> in User Guide.</p>
  </li>
</ul>

<h3 id="gdal-3x-compatibility">GDAL 3.x Compatibility</h3>

<p>The gdal-output extension is tested against GDAL 3.x series.</p>

<p>Please pay careful attention to the installation instructions, while the extensions includes <code class="language-plaintext highlighter-rouge">gdal-3.2.0.jar</code> you should double check the native binaries (included in your Linux distribution or installed by hand) and download an appropriate <a href="https://search.maven.org/artifact/org.gdal/gdal">replacement jar online</a>.</p>

<p>For more information see <a href="https://docs.geoserver.org/latest/en/user/data/raster/gdal.html#installing-gdal-native-libraries">Installing GDAL native libraries</a> in the User Guide.</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10402">GEOS-10402</a> Upgrade imageio-ext to 1.4.0 (tested with gdal 3.2)</li>
</ul>

<p>Thanks to Andrea Aime (GeoSolutions) for making the ImageIO-EXT release, and Jody Garnett (GeoCat) for GDAL 3.x upgrade and testing.</p>

<h3 id="improvements-and-fixes">Improvements and Fixes</h3>

<p>New features:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10228">GEOS-10228</a> Add wrap_limit property to wrap the category text values of a legend</li>
</ul>

<p>Improvements:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10146">GEOS-10146</a> App-schema: support for multiple geometries with different CRS</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10246">GEOS-10246</a> jdbcconfig: performance slow-down from unnecessary transactions</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10251">GEOS-10251</a> Refactor MapML vocabulary to map- custom elements HTML namespace</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10463">GEOS-10463</a> Support WCS default value for Deflate Compression</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10320">GEOS-10320</a> Support GetFeatureInfo on raster layers with transformations turning the output into vector</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10405">GEOS-10405</a> GetFeatureInfo: Support multiple featureCollections per query layer</li>
</ul>

<p>Fixes:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10226">GEOS-10226</a> ResourcePool leaves empty files on failure</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10318">GEOS-10318</a> CSV output format for complex features doesn’t resolve namespace URIs to prefixes on attributes names</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10235">GEOS-10235</a> Prevent double-quote to be specified as CSV separator</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10477">GEOS-10477</a> SLD - Validation error on Normalize-node</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10448">GEOS-10448</a> GetTimeSeries does not limit number of dates when using a time range request (without period)</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10429">GEOS-10429</a> Style validation error using the VendorOption “graphic-margin”</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10318">GEOS-10318</a> CSV output format for complex features doesn’t resolve namespace URIs to prefixes on attributes names</li>
</ul>

<p>Tasks:</p>

<ul>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10458">GEOS-10458</a> Update jai-ext to 1.1.22</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10446">GEOS-10446</a> Upgrade to commons-codec 1.15 version</li>
  <li><a href="https://osgeo-org.atlassian.net/browse/GEOS-10363">GEOS-10363</a> Switch from itextpdf to openpdf for PDF map rendering</li>
</ul>

<h2 id="about-geoserver-221">About GeoServer 2.21</h2>

<p>Additional information on GeoServer 2.21 series:</p>

<ul>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-207">Feature Type Customization</a></li>
  <li><a href="https://github.com/geoserver/geoserver/wiki/GSIP-205">Add Styles support to LayerGroup</a></li>
  <li><a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">Log4j1 update or replace activity</a></li>
</ul>

<p>Release notes: ( <a href="https://github.com/geoserver/geoserver/releases/tag/2.21-RC">2.21-RC</a> )</p>

    </article>

  </div>
  <div class="post-more"><a href="/announcements/2022/05/09/geoserver-2-21-RC-released.html" >Read More</a></div>
</div>


<!-- Pagination links -->
<div class="pagination">
  
    <a href="/blog/page6/" class="previous">
      &laquo; Prev
    </a>
  
  <span class="page_number ">
    7 / 90
  </span>
  
    <a href="/blog/page8/" class="next">Next &raquo;</a>
  <!-- GeoooooooServer  -->
    <span>Ge<a href="/blog">o</a><wbr/><a href="/blog/page2/">o</a><wbr/><a href="/blog/page3/">o</a><wbr/><a href="/blog/page4/">o</a><wbr/><a href="/blog/page5/">o</a><wbr/><a href="/blog/page6/">o</a><wbr/><em>o</em><wbr/><a href="/blog/page8/">o</a><wbr/><a href="/blog/page9/">o</a><wbr/><a href="/blog/page10/">o</a><wbr/><a href="/blog/page11/">o</a><wbr/><a href="/blog/page12/">o</a><wbr/><a href="/blog/page13/">o</a><wbr/><a href="/blog/page14/">o</a><wbr/><a href="/blog/page15/">o</a><wbr/><a href="/blog/page16/">o</a><wbr/><a href="/blog/page17/">o</a><wbr/><a href="/blog/page18/">o</a><wbr/><a href="/blog/page19/">o</a><wbr/><a href="/blog/page20/">o</a><wbr/><a href="/blog/page21/">o</a><wbr/><a href="/blog/page22/">o</a><wbr/><a href="/blog/page23/">o</a><wbr/><a href="/blog/page24/">o</a><wbr/><a href="/blog/page25/">o</a><wbr/><a href="/blog/page26/">o</a><wbr/><a href="/blog/page27/">o</a><wbr/><a href="/blog/page28/">o</a><wbr/><a href="/blog/page29/">o</a><wbr/><a href="/blog/page30/">o</a><wbr/><a href="/blog/page31/">o</a><wbr/><a href="/blog/page32/">o</a><wbr/><a href="/blog/page33/">o</a><wbr/><a href="/blog/page34/">o</a><wbr/><a href="/blog/page35/">o</a><wbr/><a href="/blog/page36/">o</a><wbr/><a href="/blog/page37/">o</a><wbr/><a href="/blog/page38/">o</a><wbr/><a href="/blog/page39/">o</a><wbr/><a href="/blog/page40/">o</a><wbr/><a href="/blog/page41/">o</a><wbr/><a href="/blog/page42/">o</a><wbr/><a href="/blog/page43/">o</a><wbr/><a href="/blog/page44/">o</a><wbr/><a href="/blog/page45/">o</a><wbr/><a href="/blog/page46/">o</a><wbr/><a href="/blog/page47/">o</a><wbr/><a href="/blog/page48/">o</a><wbr/><a href="/blog/page49/">o</a><wbr/><a href="/blog/page50/">o</a><wbr/><a href="/blog/page51/">o</a><wbr/><a href="/blog/page52/">o</a><wbr/><a href="/blog/page53/">o</a><wbr/><a href="/blog/page54/">o</a><wbr/><a href="/blog/page55/">o</a><wbr/><a href="/blog/page56/">o</a><wbr/><a href="/blog/page57/">o</a><wbr/><a href="/blog/page58/">o</a><wbr/><a href="/blog/page59/">o</a><wbr/><a href="/blog/page60/">o</a><wbr/><a href="/blog/page61/">o</a><wbr/><a href="/blog/page62/">o</a><wbr/><a href="/blog/page63/">o</a><wbr/><a href="/blog/page64/">o</a><wbr/><a href="/blog/page65/">o</a><wbr/><a href="/blog/page66/">o</a><wbr/><a href="/blog/page67/">o</a><wbr/><a href="/blog/page68/">o</a><wbr/><a href="/blog/page69/">o</a><wbr/><a href="/blog/page70/">o</a><wbr/><a href="/blog/page71/">o</a><wbr/><a href="/blog/page72/">o</a><wbr/><a href="/blog/page73/">o</a><wbr/><a href="/blog/page74/">o</a><wbr/><a href="/blog/page75/">o</a><wbr/><a href="/blog/page76/">o</a><wbr/><a href="/blog/page77/">o</a><wbr/><a href="/blog/page78/">o</a><wbr/><a href="/blog/page79/">o</a><wbr/><a href="/blog/page80/">o</a><wbr/><a href="/blog/page81/">o</a><wbr/><a href="/blog/page82/">o</a><wbr/><a href="/blog/page83/">o</a><wbr/><a href="/blog/page84/">o</a><wbr/><a href="/blog/page85/">o</a><wbr/><a href="/blog/page86/">o</a><wbr/><a href="/blog/page87/">o</a><wbr/><a href="/blog/page88/">o</a><wbr/><a href="/blog/page89/">o</a><wbr/><a href="/blog/page90/">o</a><wbr/>Server</span>
  
</div>

                </article>

            </div>
          </div>
        </div>
        <div class="sidebar">
          <script>
            function toggleContents(target) {
              if (target.classList.contains('toggled')) {
                target.classList.remove('toggled')
              } else {
                target.classList.add('toggled')
              }
            }
          </script> 
          <div class="sidebar-category" onclick="toggleContents(this)" />
            <h4>&nbsp;Announcements</h4>
            <ul>
              
                <li><a href="/announcements/2023/12/18/geoserver-2-23-4-released.html">GeoServer 2.23.4 Release</a></li>
                
              
                <li><a href="/announcements/2023/11/27/geoserver-2-24-1-released.html">GeoServer 2.24.1 Release</a></li>
                
              
                <li><a href="/announcements/2023/10/30/geoserver-2-23-3-released.html">GeoServer 2.23.3 Release</a></li>
                
              
                <li><a href="/announcements/2023/10/15/geoserver-2-24-0-released.html">GeoServer 2.24.0 Release</a></li>
                
              
                <li><a href="/announcements/2023/09/25/geoserver-2-24-RC-released.html">GeoServer 2.24-RC Release</a></li>
                
              
                <li><a href="/announcements/2023/08/30/geoserver-2-22-5-released.html">GeoServer 2.22.5 Release</a></li>
                
              
                <li><a href="/announcements/2023/07/21/geoserver-2-23-2-released.html">GeoServer 2.23.2 Release</a></li>
                
              
                <li><a href="/announcements/2023/07/04/foss4g-2023.html">GeoServer at FOSS4G 2023</a></li>
                
              
                <li><a href="/announcements/2023/06/19/geoserver-2-22-4-released.html">GeoServer 2.22.4 Release</a></li>
                
              
                <li><a href="/announcements/2023/05/23/geoserver-2-23-1-released.html">GeoServer 2.23.1 Release</a></li>
                
                  
            </ul>
          </div>
          
          <!-- 2019 -->
          
            
            
            
              
            
            
            
            
            
            
          
            
            
            
            
            
              
            
            
            
            
            
            
          
            
            
            
            
            
              
            
            
            
            
            
              
            
            
            
            
            
              
            
            
            
            
            
            
          
            
            
            
            
            
              
            
            
            
            
            
            
          
          
          
          
            
            
            
            <div class="sidebar-category" onclick="toggleContents(this)" />
              <h4>&nbsp;Tutorials</h4>
              <ul>
                
                  
                  
                  
                  <li><a href="/tutorials/2024/01/17/geospatial-techno.html">GeoServer About & Status - A Practical Guide</a></li>
                  
                
                  
                  
                  
                  <li><a href="/tutorials/2023/11/30/geospatial-techno.html">GeoServer installation methods on Windows</a></li>
                  
                
                  
                  
                  
                  <li><a href="/tutorials/2023/10/20/geospatial-techno.html">Introducing GeoSpatial Techno with a Video Tutorial</a></li>
                  
                
                  
                  
                  
                  <li><a href="/tutorials/2019/09/03/geoserver-presentations-on-foss4g-2019.html">GeoServer Presentations on FOSS4G 2019</a></li>
                  
                
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
              </ul>
            </div>
          
            
            
            
            <div class="sidebar-category" onclick="toggleContents(this)" />
              <h4>&nbsp;Behind The Scenes</h4>
              <ul>
                
                  
                  
                  
                  <li><a href="/behind%20the%20scenes/2024/01/03/roadmap.html">GeoServer 2024 Roadmap Planning</a></li>
                  
                
                  
                  
                  
                  <li><a href="/behind%20the%20scenes/2022/01/20/log4j-upgrade.html">Log4j1 update or replace activity</a></li>
                  
                
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
              </ul>
            </div>
          
            
            
            
            <div class="sidebar-category" onclick="toggleContents(this)" />
              <h4>&nbsp;Vulnerability</h4>
              <ul>
                
                  
                  
                  
                  <li><a href="/vulnerability/2023/02/20/ogc-filter-injection.html">OGC Filter Injection Vulnerability Statement</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/11/18/geoserver-2-22-0-released.html">GeoServer 2.22.0 Release</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/10/24/geoserver-2-21-2-released.html">GeoServer 2.21.2 Release</a></li>
                  
                
                  
                  
                  
                  <li><a href="/vulnerability/2022/04/11/geoserver-2-jiffle-jndi-rce.html">Jiffle and GeoTools RCE vulnerabilities</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/04/11/geoserver-2-20-4-released.html">GeoServer 2.20.4 Released</a></li>
                  
                
                  
                  
                  
                  <li><a href="/vulnerability/2022/04/01/spring.html">Spring4Shell RCE vulnerability</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/03/08/geoserver-2-20-3-released.html">GeoServer 2.20.3 Released</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2022/03/08/geoserver-2-19-5-released.html">GeoServer 2.19.5 Released</a></li>
                  
                
                  
                  
                  
                  <li><a href="/announcements/vulnerability/2021/12/22/geoserver-2-19-4-released.html">GeoServer 2.19.4 Released</a></li>
                  
                
                  
                  
                  
                  <li><a href="/vulnerability/2021/12/13/logj4-rce-statement.html">Log4J2 zero day vulnerability assessment</a></li>
                  
                    
              </ul>
            </div>
          
            
            
            
            <div class="sidebar-category" onclick="toggleContents(this)" />
              <h4>&nbsp;Developer notes</h4>
              <ul>
                
                  
                  
                  
                  <li><a href="/developer%20notes/2021/03/04/main-branch.html">GeoServer repository transition to main branch</a></li>
                  
                
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
                  
                  
                    
              </ul>
            </div>
          
        </div>
      </div>
      <div id="footer">
    <span class="left"><a href="https://geoserver.org/feed.xml"><img alt="Atom feed" src="https://geoserver.org/img/rss-icon.png" height="16" width="16">Atom feed</a></span>
    <span class="right">
        &copy;2024 <a href="https://www.osgeo.org/">Open Source Geospatial Foundation</a>. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
    </span>
</div>

    </div>
        <script src="/js/jquery-1.11.1.min.js"></script>
    <script src="/js/bootstrap-3.0.3.min.js"></script>
    <script src="/js/ol.js"></script>
    <script src="/js/app.js"></script>
    <script>
    $(document).ready(function() {
        if (typeof window.init != "undefined") {
          init();
        }
    });
    </script>
    
  </body>
</html>
